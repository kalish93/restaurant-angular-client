<div class="w-full md:w-[95%] mx-auto" *ngIf="restaurant">
  <div class="flex items-center justify-between my-8">
    <div class="flex items-center gap-4">
      <h1 class="text-2xl font-semibold text-gray-800">{{restaurant.name}}</h1>
      <span [ngClass]="restaurant.isActive ? 'active-status' : 'inactive-status'">
        {{ restaurant.isActive ? 'Active' : 'Inactive' }}
      </span>
    </div>
  </div>

  <div class="table-and-paginator">
    <div class="flex items-center justify-between mb-6">
      <h2 class="text-xl font-semibold text-gray-800">Restaurant Staff</h2>
      <button (click)="openAddStaffDialog()"
        class="flex items-center gap-2 rounded-full bg-white px-6 py-3 font-medium text-amber-600 shadow-[12px_12px_24px_rgba(0,0,0,0.15),-12px_-12px_24px_rgba(255,255,255,0.9)] transition-all hover:shadow-[6px_6px_12px_rgba(0,0,0,0.1),-6px_-6px_12px_rgba(255,255,255,0.8)]">
        <mat-icon>add</mat-icon>
        <span>Add Staff</span>
      </button>
    </div>

    <table mat-table [dataSource]="restaurant.users!" class="mat-elevation-z8 w-full">
      <!-- First Name Column -->
      <ng-container matColumnDef="firstName">
        <th mat-header-cell *matHeaderCellDef> First Name </th>
        <td mat-cell *matCellDef="let user"> {{ user.firstName }} </td>
      </ng-container>

      <!-- Last Name Column -->
      <ng-container matColumnDef="lastName">
        <th mat-header-cell *matHeaderCellDef> Last Name </th>
        <td mat-cell *matCellDef="let user"> {{ user.lastName }} </td>
      </ng-container>

      <!-- Email Column -->
      <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef> Email </th>
        <td mat-cell *matCellDef="let user"> {{ user.email }} </td>
      </ng-container>

      <!-- Role Column -->
      <ng-container matColumnDef="role">
        <th mat-header-cell *matHeaderCellDef> Role </th>
        <td mat-cell *matCellDef="let user"> {{ user.role.name }} </td>
      </ng-container>

      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef> Actions </th>
        <td mat-cell *matCellDef="let user">
          <button mat-icon-button [matMenuTriggerFor]="menu" (click)="$event.stopPropagation()">
            <mat-icon>more_vert</mat-icon>
          </button>
          <mat-menu #menu="matMenu">
            <button mat-menu-item (click)="openEditStaffDialog(user)">
              <mat-icon class="small-icon !text-sm">edit</mat-icon>
              <span>Edit</span>
            </button>
            <button mat-menu-item (click)="deleteStaff(user)">
              <mat-icon class="small-icon !text-sm !w-4 !h-4">delete</mat-icon>
              <span>Delete</span>
            </button>
          </mat-menu>
        </td>
      </ng-container>

      <!-- Header and Row Declarations -->
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  </div>
</div>